# Cloudflare Workers Configuration
# NOTE: This configuration requires a Worker entrypoint at dist/worker.js
# The current Next.js build does not produce a Worker bundle.
# To deploy to Cloudflare Workers, you'll need:
# 1. A Cloudflare/Next adapter that outputs a Worker-compatible bundle
# 2. Or build a Worker entrypoint (e.g., with esbuild) before deploying
# 3. Update main/upload_dir to match your actual build output

name = "averyos-runtime"
main = "dist/worker.js"
compatibility_date = "2026-02-05"
workers_dev = false

[build]
command = "bun run build"
upload_format = "modules"
upload_dir = "dist"

[env.production]
name = "averyos-runtime"
workers_dev = false
routes = ["https://averyos.com/*"]
