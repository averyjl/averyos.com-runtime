# NOTE: This Wrangler configuration points to dist/worker.js, but the repository
# does not currently generate this file. The build script runs "next build" which
# produces a Next.js app, not a Cloudflare Worker bundle.
#
# To deploy to Cloudflare Workers, you need to either:
# 1. Use a Next.js Cloudflare adapter (e.g., @cloudflare/next-on-pages)
# 2. Create a Worker entrypoint (e.g., src/worker.ts) and build it with esbuild
# 3. Deploy as a standard Next.js app instead of a Worker
#
# As-is, "wrangler deploy" will fail because dist/worker.js does not exist.

name = "averyos-runtime"
main = "dist/worker.js"
compatibility_date = "2026-02-05"
workers_dev = false

[build]
command = "bun run build"
upload_format = "modules"
upload_dir = "dist"

[env.production]
name = "averyos-runtime"
workers_dev = false
routes = ["https://averyos.com/*"]
